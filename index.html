<!DOCTYPE html>
<html>
  <body>
    <h2>Javascript Quiz 1 Giorgi Bigvava</h2>
    <script>
      function getMaxNumber(numbersArray) {
        var localMax = numbersArray[0];

        for (var i = 0; i < numbersArray.length; i++) {
          if (numbersArray[i] > localMax) {
            localMax = numbersArray[i];
          }
        }

        return localMax;
      }

      function getPositiveNumbersAverage(numbersArray) {
        var sum = 0;
        var quantity = 0;
        for (var i = 0; i < numbersArray.length; i++) {
          if (numbersArray[i] > 0) {
            sum = sum + numbersArray[i];
            quantity = quantity + 1;
          }
        }
        return sum / quantity;
      }
      function getTopStudents(studentsArray1, studentsArray2) {
        var allStudents = studentsArray1.concat(studentsArray2);

        var topStudents = [];
        var maxGpa = 5;
        while (topStudents.length < 5) {
          var topStudent = getMaxGPAStudent(studentsArray1, maxGpa);
          var similarStudents = getSimilarGPAStudents(
            studentsArray1,
            topStudent
          );
          for (var i = 0; i < similarStudents.length; i++) {
            topStudents.push(similarStudents[i]);
          }
          maxGpa = topStudents[topStudents.length - 1].gpa;
        }

        return topStudents;
      }

      function getMaxGPAStudent(studentArray, maxGPA) {
        var localMax = studentArray[0].gpa;

        for (var i = 0; i < studentArray.length; i++) {
          if (studentArray[i].gpa > localMax) {
            if (studentArray[i].gpa < maxGPA) {
              localMax = studentArray[i].gpa;
            }
          }
        }

        return localMax;
      }
      function getSimilarGPAStudents(studentArray, gpa) {
        var similarStudents = [];
        for (var i = 0; i < studentArray.length; i++) {
          if (studentArray[i].gpa === gpa) {
            similarStudents.push(studentArray[i]);
          }
        }
        return similarStudents;
      }

      var studentList1 = [
        {
          id: 1,
          name: "John1",
          gpa: 2,
        },
        {
          id: 2,
          name: "John2",
          gpa: 2,
        },
        {
          id: 3,
          name: "John3",
          gpa: 3.5,
        },
        {
          id: 4,
          name: "John4",
          gpa: 3.5,
        },
      ];

      var studentList2 = [
        {
          id: 5,
          name: "John5",
          gpa: 4,
        },
        {
          id: 6,
          name: "John6",
          gpa: 4,
        },
        {
          id: 7,
          name: "John7",
          gpa: 4,
        },
        {
          id: 8,
          name: "John8",
          gpa: 4,
        },
      ];
      //1 davaleba, pasuxi - 5
      console.log(getMaxNumber([1, 2, 3, 4, 5, 4, 3]));
      //2 davaleba, pasuxi - 4,6
      console.log(getPositiveNumbersAverage([3, 5, 6, 7, 2, -4]));
      //3 davaleba, pasuxi - 3.5, 3.5, 4, 4, 4, 4
      console.log(getTopStudents(studentList1, studentList2));
    </script>
  </body>
</html>
